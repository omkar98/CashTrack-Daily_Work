//           templates file  trmplates.js
/*
',id_13,markup,1_markup,1_markup,1_markup,PGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJpbmxpbmVCbG9jayBfMnRnYSBfNDl2ZSIgdGl0bGU9IlJlY29tbWVuZCAmbHJtO9eR16HXm9eg15nXnyDXoNeV15jXmdedINep15zXkCDXnNep15fXqNeoINeQ16og15DXkdeV16fXodeZ16EmbHJtOyIgaWQ9InVfMF8yIj48ZGl2IGNsYXNzPSIiPjxzcGFuIGNsYXNzPSJfM2puLSBpbmxpbmVCbG9jayI+PHNwYW4gY2xhc3M9Il8zam5fIj48L3NwYW4+PHNwYW4gY2xhc3M9Il80OXZnIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBjbGFzcz0iXzFwYnEiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggMTRIMy42NjdDMi43MzMgMTMuOSAyIDEzLjE2NyAyIDEyLjIzM1YzLjY2N0ExLjY1IDEuNjUgMCAwIDEKICAgICAgICAgICAgMy42NjcgMmg4LjY2NkExLjY1IDEuNjUgMCAwIDEgMTQgMy42Njd2OC41NjZjMCAuOTM0LS43MzMKICAgICAgICAgICAgMS42NjctMS42NjcKICAgICAgICAgICAgMS43NjdIMTB2LTMuOTY3aDEuM2wuNy0yLjA2NmgtMlY2LjkzM2MwLS40NjYuMTY3LS45Ljg2Ny0uOUgxMnYtMS44Yy4wMzMKICAgICAgICAgICAgMC0uOTMzLS4yNjYtMS41MzMtLjI2Ni0xLjI2NyAwLTIuNDM0LjctMi40NjcKICAgICAgICAgICAgMi4xMzN2MS44NjdINnYyLjA2NmgyVjE0eiI+PC9wYXRoPjwvc3ZnPjxpbWcgY2xhc3M9Il8xcGJzIGlubGluZUJsb2NrIGltZyIgc3JjPSJodHRwczovL3d3dy5mYWNlYm9vay5jb20vcnNyYy5waHAvdjMveXEvci81bm5TaUpReGJCcS5wbmciIGFsdD0iIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvc3Bhbj48c3BhbiBjbGFzcz0iXzVuMnkiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiIGNsYXNzPSJfMXBicSI+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIuODA4IDguMzU0bDMuMTM1IDMuMTk1IDcuMzgzLTcuMiI+PC9wYXRoPjwvc3ZnPjxpbWcgY2xhc3M9Il8xcGJzIGlubGluZUJsb2NrIGltZyIgc3JjPSJodHRwczovL3d3dy5mYWNlYm9vay5jb20vcnNyYy5waHAvdjMveXgvci9SbmY4eTFxc3N3ai5wbmciIGFsdD0iIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvc3Bhbj48L3NwYW4+PHNwYW4gY2xhc3M9Il80OXZoIF8ycGk3Ij5SZWNvbW1lbmQ8L3NwYW4+PHNwYW4gY2xhc3M9Il81bjZoIF8ycGloIiBpZD0idV8wXzMiPjA8L3NwYW4+PC9kaXY+PC9idXR0b24+,end,id_19,markup,3_markup2,3_markup,3_markup,PGEgaHJlZj0iaHR0cDovL2hvdC55bmV0LmNvLmlsL2hvbWUvMCw3MzQwLEwtNzI1MCwwMC5odG1sIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBzcmM9Imh0dHA6Ly9pbWFnZXMxLnluZXQuY28uaWwvUGljU2VydmVyNC8yMDE1LzA4LzMxLzYyNjg0MjQvaG90LnBuZyIgYm9yZGVyPSIwIiB3aWR0aD0iMjUiIGhtPSIwIiBhbHQ9IkhPVCIgdGl0bGU9IkhPVCI+PC9hPg==,end,id_20,markup,3_markup3,3_markup,3_markup,PGEgaHJlZj0iaHR0cDovL2hvdC55bmV0LmNvLmlsL2hvbWUvMCw3MzQwLEwtNzI1MCwwMC5odG1sIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBzcmM9Imh0dHA6Ly9pbWFnZXMxLnluZXQuY28uaWwvUGljU2VydmVyNC8yMDE1LzA4LzMxLzYyNjg0MjQvaG90LnBuZyIgYm9yZGVyPSIwIiB3aWR0aD0iMjUiIGhtPSIwIiBhbHQ9IkhPVCIgdGl0bGU9IkhPVCI+PC9hPg==,end';
2:
<a href="http://hot.ynet.co.il/home/0,7340,L-7250,00.html" target="_blank"><img src="http://images1.ynet.co.il/PicServer4/2015/08/31/6268424/hot.png" border="0" width="25" hm="0" alt="HOT" title="HOT"></a>
3:
<a href="http://hot.ynet.co.il/home/0,7340,L-7250,00.html" target="_blank"><img src="http://images1.ynet.co.il/PicServer4/2015/08/31/6268424/hot.png" border="0" width="25" hm="0" alt="HOT" title="HOT"></a>




*/



jQuery(document).ready(function($) {
	 
	 jQuery('.templates button').click(function() {
		//serialize_data_before_processing_product = objectFromPhp2.sortable_option;
		serialize_data_before_processing_product = 'id[]=13&id[]=1&id[]=2&id[]=3&id[]=4&id[]=5&id[]=6&id[]=7&id[]=8&id[]=9&id[]=10&id[]=11&id[]=12';
		if ($(this).attr('id')=='1_markup_elements'){
		$('#serialize-layers').val('id[]=13&id[]=1&id[]=2&id[]=3&id[]=4&id[]=5&id[]=6&id[]=7&id[]=8&id[]=9&id[]=10&id[]=11&id[]=12');
		// take of the first 5 digits (id[]=) until arriving to first layer number: i.e 3&id[]=6&id[]=7&i
		serialize_data_before_processing_product = serialize_data_before_processing_product.substring(5);
		 
		// get the value from the builder hidden text box
		//builder_text = $('#serialize-layers-product-builder').val();
		builder_text = 
        ',id_13,markup,1_markup,1_markup,1_markup,PGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJpbmxpbmVCbG9jayBfMnRnYSBfNDl2ZSIgdGl0bGU9IlJlY29tbWVuZCAmbHJtO9eR16HXm9eg15nXnyDXoNeV15jXmdedINep15zXkCDXnNep15fXqNeoINeQ16og15DXkdeV16fXodeZ16EmbHJtOyIgaWQ9InVfMF8yIj48ZGl2IGNsYXNzPSIiPjxzcGFuIGNsYXNzPSJfM2puLSBpbmxpbmVCbG9jayI+PHNwYW4gY2xhc3M9Il8zam5fIj48L3NwYW4+PHNwYW4gY2xhc3M9Il80OXZnIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBjbGFzcz0iXzFwYnEiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggMTRIMy42NjdDMi43MzMgMTMuOSAyIDEzLjE2NyAyIDEyLjIzM1YzLjY2N0ExLjY1IDEuNjUgMCAwIDEKICAgICAgICAgICAgMy42NjcgMmg4LjY2NkExLjY1IDEuNjUgMCAwIDEgMTQgMy42Njd2OC41NjZjMCAuOTM0LS43MzMKICAgICAgICAgICAgMS42NjctMS42NjcKICAgICAgICAgICAgMS43NjdIMTB2LTMuOTY3aDEuM2wuNy0yLjA2NmgtMlY2LjkzM2MwLS40NjYuMTY3LS45Ljg2Ny0uOUgxMnYtMS44Yy4wMzMKICAgICAgICAgICAgMC0uOTMzLS4yNjYtMS41MzMtLjI2Ni0xLjI2NyAwLTIuNDM0LjctMi40NjcKICAgICAgICAgICAgMi4xMzN2MS44NjdINnYyLjA2NmgyVjE0eiI+PC9wYXRoPjwvc3ZnPjxpbWcgY2xhc3M9Il8xcGJzIGlubGluZUJsb2NrIGltZyIgc3JjPSJodHRwczovL3d3dy5mYWNlYm9vay5jb20vcnNyYy5waHAvdjMveXEvci81bm5TaUpReGJCcS5wbmciIGFsdD0iIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvc3Bhbj48c3BhbiBjbGFzcz0iXzVuMnkiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiIGNsYXNzPSJfMXBicSI+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIuODA4IDguMzU0bDMuMTM1IDMuMTk1IDcuMzgzLTcuMiI+PC9wYXRoPjwvc3ZnPjxpbWcgY2xhc3M9Il8xcGJzIGlubGluZUJsb2NrIGltZyIgc3JjPSJodHRwczovL3d3dy5mYWNlYm9vay5jb20vcnNyYy5waHAvdjMveXgvci9SbmY4eTFxc3N3ai5wbmciIGFsdD0iIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjwvc3Bhbj48L3NwYW4+PHNwYW4gY2xhc3M9Il80OXZoIF8ycGk3Ij5SZWNvbW1lbmQ8L3NwYW4+PHNwYW4gY2xhc3M9Il81bjZoIF8ycGloIiBpZD0idV8wXzMiPjA8L3NwYW4+PC9kaXY+PC9idXR0b24+,end,id_19,markup,3_markup2,3_markup,3_markup,PGEgaHJlZj0iaHR0cDovL2hvdC55bmV0LmNvLmlsL2hvbWUvMCw3MzQwLEwtNzI1MCwwMC5odG1sIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBzcmM9Imh0dHA6Ly9pbWFnZXMxLnluZXQuY28uaWwvUGljU2VydmVyNC8yMDE1LzA4LzMxLzYyNjg0MjQvaG90LnBuZyIgYm9yZGVyPSIwIiB3aWR0aD0iMjUiIGhtPSIwIiBhbHQ9IkhPVCIgdGl0bGU9IkhPVCI+PC9hPg==,end,id_20,markup,3_markup3,3_markup,3_markup,PGEgaHJlZj0iaHR0cDovL2hvdC55bmV0LmNvLmlsL2hvbWUvMCw3MzQwLEwtNzI1MCwwMC5odG1sIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBzcmM9Imh0dHA6Ly9pbWFnZXMxLnluZXQuY28uaWwvUGljU2VydmVyNC8yMDE1LzA4LzMxLzYyNjg0MjQvaG90LnBuZyIgYm9yZGVyPSIwIiB3aWR0aD0iMjUiIGhtPSIwIiBhbHQ9IkhPVCIgdGl0bGU9IkhPVCI+PC9hPg==,end';
        $('#serialize-layers-product-builder').val(builder_text);
		}
		else if ($(this).attr('id')=='3_markup_elements'){
		$('#serialize-layers').val('id[]=14&id[]=15&id[]=16&id[]=1&id[]=2&id[]=3&id[]=4&id[]=5&id[]=6&id[]=7&id[]=8&id[]=9&id[]=10&id[]=11&id[]=12');
		// take of the first 5 digits (id[]=) until arriving to first layer number: i.e 3&id[]=6&id[]=7&i
		serialize_data_before_processing_product = serialize_data_before_processing_product.substring(5);
		 
		// get the value from the builder hidden text box
		//builder_text = $('#serialize-layers-product-builder').val();
		builder_text = 
        ',id_14,markup,3_markup1,jgjgjgj,jhgjhgjg,Z2pnamhnaGpn,end,id_15,markup,3_markup2,jgjgjgj,jhgjhgjg,PGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJpbmxpbmVCbG9jayBfMnRnYSBfNDl2ZSIgdGl0bGU9IlJlY29tbWVuZCAmbHJtO9eR16HXm9eg15nXnyDXoNeV15jXmdedINep15zXkCDXnNep15fXqNeoINeQ16og15DXkdeV16fXodeZ16EmbHJtOyIgaWQ9InVfMF8yIj48ZGl2IGNsYXNzPSIiPjxzcGFuIGNsYXNzPSJfM2puLSBpbmxpbmVCbG9jayI+PHNwYW4gY2xhc3M9Il8zam5fIj48L3NwYW4+PHNwYW4gY2xhc3M9Il80OXZnIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBjbGFzcz0iXzFwYnEiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggMTRIMy42NjdDMi43MzMgMTMuOSAyIDEzLjE2NyAyIDEyLjIzM1YzLjY2N0ExLjY1IDEuNjUgMCAwIDEK,end,id_16,markup,3_markup3,jgjgjgj,jhgjhgjg,PGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJpbmxpbmVCbG9jayBfMnRnYSBfNDl2ZSIgdGl0bGU9IlJlY29tbWVuZCAmbHJtO9eR16HXm9eg15nXnyDXoNeV15jXmdedINep15zXkCDXnNep15fXqNeoINeQ16og15DXkdeV16fXodeZ16EmbHJtOyIgaWQ9InVfMF8yIj48ZGl2IGNsYXNzPSIiPjxzcGFuIGNsYXNzPSJfM2puLSBpbmxpbmVCbG9jayI+PHNwYW4gY2xhc3M9Il8zam5fIj48L3NwYW4+PHNwYW4gY2xhc3M9Il80OXZnIj48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDE2IDE2IiBjbGFzcz0iXzFwYnEiPjxwYXRoIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggMTRIMy42NjdDMi43MzMgMTMuOSAyIDEzLjE2NyAyIDEyLjIzM1YzLjY2N0ExLjY1IDEuNjUgMCAwIDEK,end';     
		$('#serialize-layers-product-builder').val(builder_text);
		}
		
		var element_properties_as_array = null;// assume nothing on startup
		var junk_array =[1,2,3,4,5,6,7,8,9,10,11,12];

		if (serialize_data_before_processing_product != "") {

		  // zero sortable1 <li> in <ul> before restoring from options

		  $('#sortable1').empty();

		  // process and add one by one every layer in a loop
		  while (serialize_data_before_processing_product) {
			index_of_next_prefix = serialize_data_before_processing_product.indexOf('&');
			if (index_of_next_prefix >= 1)
			  current_layer_id = serialize_data_before_processing_product.substring(0, index_of_next_prefix);
			else
			  current_layer_id = serialize_data_before_processing_product;

			current_layer_id = parseInt(current_layer_id);
			// reduce corresponding element from junk array
			junk_array.splice(junk_array.indexOf(current_layer_id), 1);
			
			// in case of custom elements we must retrieve the element
			// properties earlier. It's common to all elements types
		
			if (current_layer_id > 12 ){
			  if ( builder_text.length < 1 )
				alert("error in builder text");
			  // search this element in builder_text			
			  elemet_start_index = builder_text.indexOf('id_' + current_layer_id.toString());
			  containing_builder_text = builder_text.substr(elemet_start_index);
			  // including the word 'end'
			  elemet_stop_index_in_containing_text = containing_builder_text.indexOf('end') + 3;
			  element_properties_as_string = containing_builder_text.substr(0, elemet_stop_index_in_containing_text);
			  element_properties_as_array = element_properties_as_string.split(',');
				   
			} //if (current_layer_id > 12 ){
			  //else {// no more custom elements
			  // builder_text ='';
			  //}
			
			
			
			//} //if (current_layer_id > 12 ){
			 
			
			switch (current_layer_id) {
			  case 1:
				$('#sortable1').append('<li  id = "id_1"> 1 On Sale Indication</li>');
				break;
			  case 2:
				$('#sortable1').append('<li  id = "id_2"> 2 Product Feature Image</li>');
				break;
			  case 3:
				$('#sortable1').append('<li  id = "id_3"> 3 Product Title</li>');
				break;
			  case 4:
				$('#sortable1').append('<li  id = "id_4"> 4 Product Rating</li>');
				break;
			  case 5:
				$('#sortable1').append('<li  id = "id_5"> 5 Product Price</li>');
				break;
			  case 6:
				$('#sortable1').append('<li  id = "id_6"> 6 Short Description(excerpt)</li>');
				break;
			  case 7:
				$('#sortable1').append('<li  id = "id_7"> 7 Add to Cart Button</li>');
				break;
			  case 8:
				$('#sortable1').append('<li  id = "id_8"> 8 Product Categories Meta Box</li>');
				break;
			  case 9:
				$('#sortable1').append('<li  id = "id_9"> 9 Social Sharing Button</li>');
				break;
			  case 10:
				$('#sortable1').append('<li  id = "id_10"> 10 Data Tabs and Their Content</li>');
				break;
			  case 11:
				$('#sortable1').append('<li  id = "id_11"> 11 Product Upsell Sisply</li>');
				break;
			  case 12:
				$('#sortable1').append('<li  id = "id_12"> 12   Related Products</li>');
				break;

			  default:
			  //default code block		  
				  if (  element_properties_as_array[1] == "markup"){
				  //$('#sortable1').append('<li  class="content-elemet link" ><i class="fa fa-link" aria-hidden="true"></i><span>Link</span></li>');			  
				  id_element = "id_" + current_layer_id.toString();
				  //markap_label = element_properties_as_array[3];
				  $('#sortable1').append('<li id=' + id_element + ' class="markup ui-sortable-handle removable" ><i class="fa fa-html5" aria-hidden="true"></i><span>' + element_properties_as_array[2] + '</span></li>');			  
				  }
				  if (  element_properties_as_array[1] == "button"){
				  //$('#sortable1').append('<li  class="content-elemet link" ><i class="fa fa-link" aria-hidden="true"></i><span>Link</span></li>');			  
				  id_element = "id_" + current_layer_id.toString();
				  //markap_label = element_properties_as_array[3];
				  $('#sortable1').append('<li class="content-elemet button ui-sortable-handle" style="border:3px;border-style:solid;border-color-red;border-radius: 25px"><span>' + element_properties_as_array[2] + '</span></li>');			  
				  }
			  if ( current_layer_id > 12 ) {
				  if (  element_properties_as_array[1] == "link"){
				  //$('#sortable1').append('<li  class="content-elemet link" ><i class="fa fa-link" aria-hidden="true"></i><span>Link</span></li>');			  
				  id_element = "id_" + current_layer_id.toString();
				  $('#sortable1').append('<li id=' + id_element + ' class="link ui-sortable-handle removable" ><i class="fa fa-link" aria-hidden="true"></i><span>' + element_properties_as_array[2] + '</span></li>');			  
				  }
				}
			} // switch (current_layer_id) {
	 
			// prepare for next round
			serialize_data_before_processing_product = serialize_data_before_processing_product.substring(index_of_next_prefix + 6);
		  }// while (serialize_data_before_processing) {
		}// if (serialize_data_before_processing != "") {

		// build the junk table

		// usually start from 0 but here I adpted to the layer names
		for  (junk_index = 1 ; junk_index < junk_array.length + 1; junk_index++){
		  switch (junk_array[junk_index - 1]) {
			case 1:
			  $('#sortable2').append('<li  id = "id_1"> 1 On Sale Indication</li>');
			  break;
			case 2:
			  $('#sortable2').append('<li  id = "id_2"> 2 Product Feature Image</li>');
			  break;
			case 3:
			  $('#sortable2').append('<li  id = "id_3"> 3 Product Title</li>');
			  break;
			case 4:
			  $('#sortable2').append('<li  id = "id_4"> 4 Product Rating</li>');
			  break;
			case 5:
			  $('#sortable2').append('<li  id = "id_5"> 5 Product Price</li>');
			  break;
			case 6:
			  $('#sortable2').append('<li  id = "id_6"> 6 Short Description(excerpt)</li>');
			  break;
			case 7:
			  $('#sortable2').append('<li  id = "id_7"> 7 Add to Cart Button</li>');
			  break;
			case 8:
			  $('#sortable2').append('<li  id = "id_8"> 8 Product Categories Meta Box</li>');
			  break;
			case 9:
			  $('#sortable2').append('<li  id = "id_9"> 9 Social Sharing Button</li>');
			  break;
			case 10:
			  $('#sortable2').append('<li  id = "id_10"> 10 Data Tabs and Their Content</li>');
			  break;
			case 11:
			  $('#sortable2').append('<li  id = "id_11"> 11 Product Upsell Sisply</li>');
			  break;
			case 12:
			  $('#sortable2').append('<li  id = "id_12"> 12  Related Products</li>');
			  break;

			default:
			//default code block
		  }// switch (junk_array[junk_index]) {

		}// for  (junk_index = 1 ; junk_index < junk_array.length + 1; junk_index++){	 	 
	 
 	}); //jQuery('#1_markup_elements').click(function() {
}); // jQuery(document).ready(function($) {